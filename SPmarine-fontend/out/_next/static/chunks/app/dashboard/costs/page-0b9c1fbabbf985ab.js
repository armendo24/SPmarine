(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9453],{7962:function(t,e,o){Promise.resolve().then(o.bind(o,82612))},82612:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return F}});var n=o(57437),r=o(2265),i=o(62197),l=o(7999),s=o(76520),a=o(55205),d=o(83719),c=o(40468),u=o(58433),x=o(1245),h=o(66858),g=o(63742),f=o(92674),b=o(48563),m=o(86645),j=o(74691),p=o(72853),v=o(48367),Z=o(68884),T=o(51095),y=o(61686);let C=t=>{let{label:e,value:o,unit:r,colorIndex:i=0}=t,l=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o),c=[{bg:"#e3f2fd",text:"#0d47a1",border:"#2196f3"},{bg:"#e8f5e9",text:"#1b5e20",border:"#4caf50"},{bg:"#fff8e1",text:"#ff8f00",border:"#ffc107"},{bg:"#f3e5f5",text:"#6a1b9a",border:"#9c27b0"}],u=c[i%c.length];return(0,n.jsx)(s.Z,{elevation:2,sx:{height:"100%",backgroundColor:u.bg,borderLeft:"4px solid ".concat(u.border),transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:e}),(0,n.jsx)(d.Z,{variant:"h4",component:"div",sx:{mt:1,fontWeight:"bold",color:u.text},children:l}),(0,n.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:r})]})})};function w(t){let{costs:e,isLoading:o}=t,[i,s]=(0,r.useState)(""),a=(0,T.K)(),w=function(){let{data:t}=(0,r.useContext)(y.yQ);if(!t)throw Error("useOrder must be used within a OrderProvider");return t}(),[I,L]=(0,r.useState)(0),[F,S]=(0,r.useState)(0),[W,O]=(0,r.useState)(0),[D,k]=(0,r.useState)(0),[P,N]=(0,r.useState)([]),[E,B]=(0,r.useState)([]),[q,R]=(0,r.useState)([]);console.log("FULL TUGBOAT CONTEXT:",a),(0,r.useEffect)(()=>{let t=e.filter(t=>0===E.length||E.includes(t.TugboatId)),o=0===E.length?t.reduce((t,e)=>t+e.TotalLoad,0)/2:t.reduce((t,e)=>t+e.TotalLoad,0),n=t.reduce((t,e)=>t+e.Distance,0),r=t.reduce((t,e)=>t+e.Time,0),i=t.reduce((t,e)=>t+e.Time*e.ConsumptionRate,0);console.log("Summary statistics recalculated:"),console.log("Total Weight:",o),console.log("Total Distance:",n),console.log("Total Time:",r),console.log("Total Fuel Consumption:",i),console.log("Filtered costs length:",t.length),console.log("Costs length:",e.length),console.log("Tugboat list:",a),L(o),S(n),O(r),k(i),N(t)},[e,i,E,q,a.length]);let _=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return o?(0,n.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,n.jsx)(c.Z,{})}):(0,n.jsxs)(l.Z,{sx:{width:"100%"},children:[(0,n.jsx)(d.Z,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:800,mt:2,mb:3,color:"#0d47a1",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",borderBottom:"2px solid #2196f3",paddingBottom:1},children:"Tugboat Fuel Cost Analysis Report"}),(0,n.jsxs)(u.ZP,{container:!0,spacing:3,sx:{mb:4,mt:1},children:[(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(C,{label:"Total Cargo Weight",value:I,unit:"tons",colorIndex:0})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(C,{label:"Total Distance",value:F,unit:"kilometers",colorIndex:1})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(C,{label:"Total Travel Time",value:W,unit:"hours",colorIndex:2})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(C,{label:"Total Fuel Consumption",value:D,unit:"liters",colorIndex:3})})]}),(0,n.jsxs)(l.Z,{sx:{mb:2},children:[(0,n.jsx)(x.Z,{multiple:!0,id:"tugboat-filter",options:(null==a?void 0:a.length)>0?a.map(t=>t.id):[],noOptionsText:"No tugboats available",getOptionLabel:t=>(null==a||a.find(e=>e.id===t),t),value:E,onChange:(t,e)=>{B(e)},renderInput:t=>(0,n.jsx)(h.Z,{...t,variant:"outlined",label:"Filter by Tugboats",placeholder:"Select tugboats",fullWidth:!0}),renderTags:(t,e)=>t.map((t,o)=>{let r=null==a?void 0:a.find(e=>e.id===t);return(0,n.jsx)(g.Z,{label:(null==r?void 0:r.name)||t,...e({index:o}),color:"primary"})})}),(0,n.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(x.Z,{multiple:!0,id:"order-filter",options:(null==w?void 0:w.length)>0?w.map(t=>t.id):[],noOptionsText:"No orders available",getOptionLabel:t=>t,value:q,onChange:(t,e)=>{R(e)},renderInput:t=>(0,n.jsx)(h.Z,{...t,variant:"outlined",label:"Filter by Order IDs",placeholder:"Select order IDs",fullWidth:!0}),renderTags:(t,e)=>t.map((t,o)=>(0,n.jsx)(g.Z,{label:t,...e({index:o}),color:"secondary"}))})}),(0,n.jsx)(d.Z,{variant:"h5",component:"h2",sx:{mt:4,mb:2,fontWeight:700,color:"#1565c0",borderLeft:"4px solid #2196f3",paddingLeft:2,paddingY:1,backgroundColor:"#f5f5f5",borderRadius:"0 4px 4px 0"},children:"Fuel Cost Details for Sea Tugboats by Order"})]}),(0,n.jsx)(f.Z,{component:b.Z,elevation:2,sx:{borderRadius:2,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:(0,n.jsxs)(m.Z,{sx:{minWidth:650},children:[(0,n.jsx)(j.Z,{sx:{backgroundColor:t=>t.palette.primary.dark,position:"sticky",top:0,zIndex:1,boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Tugboat ID"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Order"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Weight (tons)"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Distance (km)"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Travel Time (hrs)"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Liters/hr"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Fuel Used (liters)"}),(0,n.jsx)(v.Z,{sx:{fontWeight:"bold",color:"white"},children:"Liters/ton"})]})}),(0,n.jsx)(Z.Z,{children:P.length>0?P.map((t,e)=>{let o=null==a?void 0:a.find(e=>e.id===t.TugboatId),r=t.Time*t.ConsumptionRate,i=t.TotalLoad>0?r/t.TotalLoad:0;return(0,n.jsxs)(p.Z,{hover:!0,sx:{backgroundColor:e%2==0?"white":"#f5f5f5",transition:"background-color 0.2s","&:hover":{backgroundColor:"#e3f2fd"}},children:[(0,n.jsx)(v.Z,{sx:{fontWeight:"medium"},children:(null==o?void 0:o.name)||t.TugboatId}),(0,n.jsx)(v.Z,{children:t.OrderId}),(0,n.jsx)(v.Z,{children:_(t.TotalLoad)}),(0,n.jsx)(v.Z,{children:_(t.Distance)}),(0,n.jsx)(v.Z,{children:_(t.Time)}),(0,n.jsx)(v.Z,{children:_(t.ConsumptionRate)}),(0,n.jsx)(v.Z,{sx:{color:r>500?"#d32f2f":"#2e7d32",fontWeight:"bold"},children:_(r)}),(0,n.jsx)(v.Z,{children:_(i)})]},"".concat(t.TugboatId,"-").concat(t.OrderId))}):(0,n.jsx)(p.Z,{children:(0,n.jsx)(v.Z,{colSpan:8,align:"center",children:"No cost data found"})})})]})})]})}var I=o(99073);function L(){let{costList:t,isLoading:e,refreshData:o}=(0,I.$)();return(0,r.useEffect)(()=>{document.title="Cost Analysis | Dashboard",o()},[o]),(0,n.jsx)(i.Z,{maxWidth:"xl",children:(0,n.jsx)(l.Z,{sx:{py:3},children:(0,n.jsx)(w,{costs:t,isLoading:e})})})}function F(){return(0,n.jsx)(L,{})}},99073:function(t,e,o){"use strict";o.d(e,{p:function(){return u},$:function(){return x}});var n=o(57437),r=o(2265),i=o(93191),l=o(65118),s=o(38472);let a="".concat("http://localhost:18001","/").concat("v1"),d=(t,e)=>s.Z.get("".concat(a,"/").concat(t),{params:e}),c=(0,r.createContext)(void 0);function u(t){let{children:e}=t;(0,i.NL)();let{data:o=[],isLoading:r,isError:s,refetch:a}=(0,l.a)({queryKey:["costs"],queryFn:async()=>(await d("costs")).data});return(0,n.jsx)(c.Provider,{value:{costList:o,isLoading:r,isError:s,refreshData:()=>{a()},getByIds:(t,e)=>o.find(o=>o.TugboatId===t&&o.OrderId===e),getCostsByTugboat:t=>o.filter(e=>e.TugboatId===t),getCostsByOrder:t=>o.filter(e=>e.OrderId===t)},children:e})}function x(){let t=(0,r.useContext)(c);if(void 0===t)throw Error("useCost must be used within a CostProvider");return t}},61686:function(t,e,o){"use strict";o.d(e,{uQ:function(){return a},yQ:function(){return s}});var n=o(57437),r=o(2265),i=o(65118),l=o(38472);let s=(0,r.createContext)({isLoading:!0});function a(t){let{children:e}=t,{data:o,isLoading:r}=(0,i.a)({queryKey:["orders"],queryFn:async()=>(await l.Z.get("".concat("http://localhost:18001","/").concat("v1","/orders"))).data});return o?(0,n.jsx)(s.Provider,{value:{data:o,isLoading:r,getById:t=>(null==o?void 0:o.find(e=>e.id===t))||null},children:e}):(0,n.jsx)(n.Fragment,{})}},83226:function(t,e,o){"use strict";o.d(e,{EQ:function(){return d},J6:function(){return a}});var n=o(57437),r=o(2265),i=o(93191),l=o(65118),s=o(38472);let a=(0,r.createContext)({isLoading:!0});function d(t){let{children:e}=t,[o,d]=(0,r.useState)(),c=(0,i.NL)(),{data:u,isLoading:x}=(0,l.a)({queryKey:["tugboats"],queryFn:async()=>(await s.Z.get("".concat("http://localhost:18001","/").concat("v1","/tugboats"))).data});return u?(0,n.jsx)(a.Provider,{value:{tugboat:u,isLoading:x,getById:t=>{var e;let o=null===(e=c.getQueryData(["tugboats"]))||void 0===e?void 0:e.find(e=>e.id===t);return o?(d(o),o):null},selectedTugboat:o},children:e}):(0,n.jsx)(n.Fragment,{})}},51095:function(t,e,o){"use strict";o.d(e,{K:function(){return i}});var n=o(2265),r=o(83226);function i(){let{tugboat:t}=(0,n.useContext)(r.J6);if(!t)throw Error("useTugboat must be used within a TugboatProvider");return t}}},function(t){t.O(0,[6064,6951,9022,8765,5677,7725,8472,7743,4198,5118,9842,439,1649,5448,2971,7023,1744],function(){return t(t.s=7962)}),_N_E=t.O()}]);